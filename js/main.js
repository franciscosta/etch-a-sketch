// 1. Create the squares

function createSquares(n) {

    document.getElementById("input").value = n;

    let container = document.querySelector('.container');
    let counter = 0;
    let height = window.innerHeight / (window.innerWidth / n);

    for (let i = 0; i < height; i++) {

        let innerContainer = document.createElement('div');
        innerContainer.classList.add('inner-container');

        for (let i = 0; i < n; i++) {
            let square = document.createElement('div');
            square.classList.add('square');

            // Set Attribure
            let attr = document.createAttribute("data-counter");
            attr.value = counter;
            square.setAttributeNode(attr);
            square.style.cssText += `height:${window.innerWidth / n}px; width: ${window.innerWidth / n}px`;

            innerContainer.appendChild(square);
            counter++;
            
        }

        container.appendChild(innerContainer);
    }

}

// 2. Paint and Errase

function paint(target) {
    document.querySelector(`[data-counter="${target}"]`).classList.add('selected');
}

function shade(target) {
    document.querySelector(`[data-counter="${target}"]`).classList.add(...['selected', 'shaded']);
}

function errase(target) {
    document.querySelector(`[data-counter="${target}"]`).classList.remove(...['selected', 'shaded']);
    // document.querySelector(`[data-counter="${target}"]`).classList.remove('shaded');
}


// 3. Clear the paint in one go

function clear() {

    let button = document.querySelector('.clear');
    button.addEventListener('click', function() {
        let paintedElements = document.querySelectorAll('.selected');
        for (let i = 0; i < paintedElements.length; i++) {
            paintedElements[i].classList.remove(...['selected', 'shaded']);
        }
    });

}

// 4. Se-draw the grid

function deleteGrid() {
    let container = document.querySelector(".container");
    while (container.firstChild) {
        container.removeChild(container.firstChild);
    }
}

function refreshGrid(e) {

    e.addEventListener('click', function() {

        let input = document.getElementById("input").value;

        if (input === "") {
            return;
        }

        input = Number(input);
    
        if (input <= 10) {
            deleteGrid();
            createSquares(10);
        } else if (input > 10 && input <= 200) {
            deleteGrid();
            createSquares(input);
        } else if (input > 200) {
            deleteGrid();
            createSquares(200);
        }
        
    });

}

refreshGrid(document.querySelector(".changeGrid"));


// 5. Event Listeners

function etch(e) {

    if (e.target.attributes["1"]) {
        let target = e.target.attributes["1"].value;

        if (e.ctrlKey) {

        } else if (e.altKey) {
            errase(target);
        } else if (e.shiftKey) {
            errase(target);
            shade(target); 
        } else {
            errase(target);
            paint(target);
        }

    }

}

// Listen to mouse over movement

window.addEventListener('mouseover', e => etch(e));
window.addEventListener('click', e => etch(e));
window.addEventListener('touchstart', e => etch(e));


// Draw Hi!

function drawHellow() {
    let selected = [825, 826, 827, 828, 829, 830, 831, 832, 840, 841, 842, 843, 844, 845, 846, 847, 853, 854, 855, 856, 857, 858, 859, 860, 866, 867, 868, 869, 870, 871, 872, 873, 874, 925, 931, 932, 933, 940, 946, 947, 948, 953, 959, 960, 961, 966, 973, 974, 975, 1025, 1031, 1032, 1033, 1034, 1040, 1046, 1047, 1048, 1049, 1053, 1059, 1060, 1061, 1062, 1066, 1073, 1074, 1075, 1076, 1125, 1131, 1132, 1133, 1134, 1140, 1146, 1147, 1148, 1149, 1153, 1159, 1160, 1161, 1162, 1166, 1173, 1174, 1175, 1176, 1225, 1231, 1232, 1233, 1234, 1240, 1246, 1247, 1248, 1249, 1253, 1259, 1260, 1261, 1262, 1266, 1273, 1274, 1275, 1276, 1325, 1331, 1332, 1333, 1334, 1340, 1346, 1347, 1348, 1349, 1353, 1354, 1355, 1356, 1357, 1358, 1359, 1360, 1361, 1362, 1366, 1373, 1374, 1375, 1376, 1425, 1431, 1432, 1433, 1434, 1440, 1446, 1447, 1448, 1449, 1453, 1454, 1455, 1456, 1457, 1458, 1459, 1460, 1461, 1462, 1466, 1473, 1474, 1475, 1476, 1525, 1531, 1532, 1533, 1534, 1540, 1546, 1547, 1548, 1549, 1554, 1555, 1556, 1557, 1558, 1559, 1560, 1561, 1566, 1573, 1574, 1575, 1576, 1625, 1631, 1632, 1633, 1634, 1640, 1646, 1647, 1648, 1649, 1666, 1673, 1674, 1675, 1676, 1725, 1731, 1732, 1733, 1734, 1740, 1746, 1747, 1748, 1749, 1766, 1773, 1774, 1775, 1776, 1825, 1831, 1832, 1833, 1834, 1835, 1836, 1837, 1838, 1839, 1840, 1846, 1847, 1848, 1849, 1853, 1854, 1855, 1856, 1857, 1858, 1859, 1860, 1866, 1873, 1874, 1875, 1876, 1925, 1946, 1947, 1948, 1949, 1953, 1959, 1960, 1961, 1966, 1973, 1974, 1975, 1976, 2025, 2046, 2047, 2048, 2049, 2053, 2059, 2060, 2061, 2062, 2066, 2073, 2074, 2075, 2076, 2125, 2146, 2147, 2148, 2149, 2153, 2159, 2160, 2161, 2162, 2166, 2173, 2174, 2175, 2176, 2225, 2246, 2247, 2248, 2249, 2253, 2259, 2260, 2261, 2262, 2266, 2273, 2274, 2275, 2276, 2325, 2331, 2332, 2333, 2334, 2335, 2336, 2337, 2338, 2339, 2340, 2346, 2347, 2348, 2349, 2353, 2359, 2360, 2361, 2362, 2366, 2373, 2374, 2375, 2376, 2425, 2431, 2432, 2433, 2434, 2435, 2436, 2437, 2438, 2439, 2440, 2446, 2447, 2448, 2449, 2453, 2459, 2460, 2461, 2462, 2466, 2473, 2474, 2475, 2476, 2525, 2531, 2532, 2533, 2534, 2535, 2536, 2537, 2538, 2539, 2540, 2546, 2547, 2548, 2549, 2553, 2559, 2560, 2561, 2562, 2566, 2567, 2568, 2569, 2570, 2571, 2572, 2573, 2574, 2575, 2576, 2625, 2631, 2632, 2633, 2634, 2635, 2636, 2637, 2638, 2639, 2640, 2646, 2647, 2648, 2649, 2653, 2659, 2660, 2661, 2662, 2666, 2667, 2668, 2669, 2670, 2671, 2672, 2673, 2674, 2675, 2676, 2725, 2731, 2732, 2733, 2734, 2740, 2746, 2747, 2748, 2749, 2753, 2759, 2760, 2761, 2762, 2767, 2768, 2769, 2770, 2771, 2772, 2773, 2774, 2775, 2825, 2831, 2832, 2833, 2834, 2840, 2846, 2847, 2848, 2849, 2853, 2859, 2860, 2861, 2862, 2925, 2931, 2932, 2933, 2934, 2940, 2946, 2947, 2948, 2949, 2953, 2959, 2960, 2961, 2962, 2966, 2967, 2968, 2969, 2970, 2971, 2972, 2973, 2974, 3025, 3031, 3032, 3033, 3034, 3040, 3046, 3047, 3048, 3049, 3053, 3059, 3060, 3061, 3062, 3066, 3073, 3074, 3075, 3125, 3131, 3132, 3133, 3134, 3140, 3146, 3147, 3148, 3149, 3153, 3159, 3160, 3161, 3162, 3166, 3173, 3174, 3175, 3176, 3225, 3231, 3232, 3233, 3234, 3240, 3246, 3247, 3248, 3249, 3253, 3259, 3260, 3261, 3262, 3266, 3273, 3274, 3275, 3276, 3325, 3331, 3332, 3333, 3334, 3340, 3346, 3347, 3348, 3349, 3353, 3359, 3360, 3361, 3362, 3366, 3373, 3374, 3375, 3376, 3425, 3426, 3427, 3428, 3429, 3430, 3431, 3432, 3433, 3434, 3440, 3441, 3442, 3443, 3444, 3445, 3446, 3447, 3448, 3449, 3453, 3454, 3455, 3456, 3457, 3458, 3459, 3460, 3461, 3462, 3466, 3467, 3468, 3469, 3470, 3471, 3472, 3473, 3474, 3475, 3476, 3525, 3526, 3527, 3528, 3529, 3530, 3531, 3532, 3533, 3534, 3540, 3541, 3542, 3543, 3544, 3545, 3546, 3547, 3548, 3549, 3553, 3554, 3555, 3556, 3557, 3558, 3559, 3560, 3561, 3562, 3566, 3567, 3568, 3569, 3570, 3571, 3572, 3573, 3574, 3575, 3576, 3626, 3627, 3628, 3629, 3630, 3631, 3632, 3633, 3641, 3642, 3643, 3644, 3645, 3646, 3647, 3648, 3654, 3655, 3656, 3657, 3658, 3659, 3660, 3661, 3667, 3668, 3669, 3670, 3671, 3672, 3673, 3674, 3675];
    let shaded = [1032, 1047, 1060, 1074, 1132, 1133, 1147, 1148, 1160, 1161, 1174, 1175, 1232, 1233, 1247, 1248, 1260, 1261, 1274, 1275, 1332, 1333, 1347, 1348, 1360, 1361, 1374, 1375, 1432, 1433, 1447, 1448, 1455, 1456, 1457, 1458, 1459, 1460, 1474, 1475, 1532, 1533, 1547, 1548, 1574, 1575, 1632, 1633, 1647, 1648, 1674, 1675, 1732, 1733, 1747, 1748, 1774, 1775, 1847, 1848, 1874, 1875, 1947, 1948, 1974, 1975, 2047, 2048, 2060, 2074, 2075, 2147, 2148, 2160, 2161, 2174, 2175, 2247, 2248, 2260, 2261, 2274, 2275, 2347, 2348, 2360, 2361, 2374, 2375, 2432, 2433, 2434, 2435, 2436, 2437, 2438, 2439, 2447, 2448, 2460, 2461, 2474, 2475, 2532, 2533, 2534, 2535, 2536, 2537, 2538, 2539, 2547, 2548, 2560, 2561, 2574, 2575, 2632, 2633, 2647, 2648, 2660, 2661, 2668, 2669, 2670, 2671, 2672, 2673, 2674, 2732, 2733, 2747, 2748, 2760, 2761, 2832, 2833, 2847, 2848, 2860, 2861, 2932, 2933, 2947, 2948, 2960, 2961, 3032, 3033, 3047, 3048, 3060, 3061, 3132, 3133, 3147, 3148, 3160, 3161, 3174, 3232, 3233, 3247, 3248, 3260, 3261, 3274, 3275, 3332, 3333, 3347, 3348, 3360, 3361, 3374, 3375, 3432, 3433, 3447, 3448, 3460, 3461, 3474, 3475, 3527, 3528, 3529, 3530, 3531, 3532, 3542, 3543, 3544, 3545, 3546, 3547, 3555, 3556, 3557, 3558, 3559, 3560, 3568, 3569, 3570, 3571, 3572, 3573, 3574];

    for(let i = 0; i < selected.length; i++) {
        document.querySelector(`[data-counter="${selected[i]}"]`).classList.add('selected');
    }

    for(let i = 0; i < shaded.length; i++) {
        document.querySelector(`[data-counter="${shaded[i]}"]`).classList.add('shaded');
    }
}

// Initialize

createSquares(100);
clear();
drawHellow();